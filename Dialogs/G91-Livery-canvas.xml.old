<?xml version="1.0" encoding="ISO-8859-1"?>

<!--
http://wiki.flightgear.org/Howto:Adding_a_canvas_to_a_GUI_dialog
-->

<PropertyList>
    
    <name>Livery_dialog</name>
    <layout>vbox</layout>
    <default-padding>7</default-padding>
    <modal>false</modal>
    <width>400</width>
    
    <!-- title bar -->
    
    <empty><stretch>true</stretch></empty>
    
    
    <group>
        <layout>hbox</layout>
        <empty><stretch>true</stretch></empty>
        <text>
            <label>Livery configuration</label>
        </text>
        <empty><stretch>true</stretch></empty>
        <button>
            <legend/>
            <key>Esc</key>
            <pref-width>16</pref-width>
            <pref-height>16</pref-height>
            <border>2</border>
            <binding>
                <command>dialog-close</command>
            </binding>
        </button>
    </group>
    
    <hrule/>
    
    <group>
        <layout>vbox</layout>
        <group>
            <layout>table</layout>
            <canvas>
                <row>0</row>
                <col>1</col>
                <name>fgplot</name>
                <valign>fill</valign>
                <halign>fill</halign>
                <stretch>true</stretch>
                <pref-width>150</pref-width>
                <pref-height>30</pref-height>
                <nasal>
                    <load>
                        <![CDATA[
                        var id_01_canvas = canvas.get(cmdarg());
                        var id_01_root = id_01_canvas.createGroup();
                        var text = id_01_root.createChild("text", "optional-id-for element")
                            .setTranslation(10, 50)
                            .setAlignment("left-center")
                            .setFont("LiberationFonts/LiberationSans-Regular.ttf")
                            .setFontSize(48, 2.5);
                        text.setText("PAN - National Aerobatic Team")
                            .setColor(0.8,0.8,0)
                            .show();
                        setlistener("sim/G91/liveries/active/ID", func {
                            var idActive = props.globals.getNode("sim/G91/liveries/active/ID",1).getValue();
                            if (idActive == 1) {
                            text.setColor(1,0,0)
                            } else {
                                text.setColor(0.8,0.8,0)
                            }
                        });
                        ]]>
                    </load>
                </nasal>
            </canvas>
            <button>
                <row>0</row>
                <col>0</col>
                <legend>    </legend>
                <binding>
                    <command>nasal</command>
                    <script>
                        <![CDATA[
                        setprop("sim/G91/liveries/active/name_short","PAN");
                        setprop("sim/G91/liveries/active/name_long","PAN - National Aerobatic Team");
                        setprop("sim/G91/liveries/active/livery_001","Aircraft/G91-R1B_HD/Models/Liveries/pan_1_001.png");
                        setprop("sim/G91/liveries/active/livery_002","Aircraft/G91-R1B_HD/Models/Liveries/pan_1_002.png");
                        setprop("sim/G91/liveries/active/luminosity",-0.10);
                        setprop("sim/G91/liveries/active/reflective",0.0);
                        setprop("sim/G91/liveries/active/PANR1B",1.0);
                        setprop("sim/G91/liveries/active/ID",1);
                        ]]>
                    </script>
                </binding>
                <binding>
                    <command>dialog-update</command>
                </binding>
            </button>

            <canvas>
                <row>0</row>
                <col>1</col>
                <name>fgplot</name>
                <valign>fill</valign>
                <halign>fill</halign>
                <stretch>true</stretch>
                <pref-width>150</pref-width>
                <pref-height>30</pref-height>
                <nasal>
                    <load>
                        <![CDATA[
                        var id_02_canvas = canvas.get(cmdarg());
                        var id_02_root = id_02_canvas.createGroup();
                        var id_02_text = id_02_root.createChild("text", "optional-id-for element")
                            .setTranslation(10, 50)
                            .setAlignment("left-center")
                            .setFont("LiberationFonts/LiberationSans-Regular.ttf")
                            .setFontSize(48, 2.5);
                        id_02_text.setText("Italian Air Force - 2nd flight flock n. 38")
                            .setColor(0.8,0.8,0)
                            .show();
                        setlistener("sim/G91/liveries/active/ID", func {
                            var idActive = props.globals.getNode("sim/G91/liveries/active/ID",1).getValue();
                            if (idActive == 2) {
                                id_02_text.setColor(1,0,0)
                            } else {
                                id_02_text.setColor(0.8,0.8,0)
                            }
                        });
                        ]]>
                    </load>
                </nasal>
            </canvas>
            <button>
                <row>1</row>
                <col>0</col>
                <legend>    </legend>
                <binding>
                    <command>nasal</command>
                    <script>
                        <![CDATA[
                        setprop("sim/G91/liveries/active/name_short","Mil ITA 3-38");
                        setprop("sim/G91/liveries/active/name_long","Italian Air Force - 2nd flight flock n. 38");
                        setprop("sim/G91/liveries/active/livery_001","Aircraft/G91-R1B_HD/Models/Liveries/ITA_2_38_001.png");
                        setprop("sim/G91/liveries/active/livery_002","Aircraft/G91-R1B_HD/Models/Liveries/ITA_2_38_002.png");
                        setprop("sim/G91/liveries/active/luminosity",-0.06);
                        setprop("sim/G91/liveries/active/reflective",-1.0);
                        setprop("sim/G91/liveries/active/PANR1B",0.0);
                        setprop("sim/G91/liveries/active/ID",2);
                        ]]>
                    </script>
                </binding>
            </button>

            <canvas>
                <row>2</row>
                <col>1</col>
                <name>fgplot</name>
                <valign>fill</valign>
                <halign>fill</halign>
                <stretch>true</stretch>
                <pref-width>150</pref-width>
                <pref-height>30</pref-height>
                <nasal>
                    <load>
                        <![CDATA[
                        var id_03_canvas = canvas.get(cmdarg());
                        var id_03_root = id_03_canvas.createGroup();
                        var id_03_text = id_03_root.createChild("text", "optional-id-for element")
                            .setTranslation(10, 50)
                            .setAlignment("left-center")
                            .setFont("LiberationFonts/LiberationSans-Regular.ttf")
                            .setFontSize(48, 2.5);
                        id_03_text.setText("Silver version, used as a prototype")
                            .setColor(0.8,0.8,0)
                            .show();
                        setlistener("sim/G91/liveries/active/ID", func {
                            var idActive = props.globals.getNode("sim/G91/liveries/active/ID",1).getValue();
                            if (idActive == 3) {
                                id_03_text.setColor(1,0,0)
                            } else {
                                id_03_text.setColor(0.8,0.8,0)
                            }
                        });
                        ]]>
                    </load>
                </nasal>
            </canvas>
            <button>
                <row>2</row>
                <col>0</col>
                <legend>    </legend>
                <binding>
                    <command>nasal</command>
                    <script>
                        <![CDATA[
                        setprop("sim/G91/liveries/active/name_short","Silver");
                        setprop("sim/G91/liveries/active/name_long","Silver version, used as a prototype");
                        setprop("sim/G91/liveries/active/livery_001","Aircraft/G91-R1B_HD/Models/Liveries/ITA_prot_001.png");
                        setprop("sim/G91/liveries/active/livery_002","Aircraft/G91-R1B_HD/Models/Liveries/ITA_prot_002.png");
                        setprop("sim/G91/liveries/active/luminosity",-0.01);
                        setprop("sim/G91/liveries/active/reflective",-0.74);
                        setprop("sim/G91/liveries/active/PANR1B",0.0);
                        setprop("sim/G91/liveries/active/ID",3);
                        ]]>
                    </script>
                </binding>
            </button>
            
        </group>
    </group>
    
    <hrule/>
    
    <group>
        <layout>vbox</layout>
        <group>
            <layout>table</layout>
            
            <text>
                <row>0</row>
                <col>0</col>
                <label>Set luminosity</label>
                <halign>left</halign>
            </text>
            <slider>
                <row>0</row>
                <col>1</col>
                <width>100</width>
                <property>sim/G91/liveries/active/luminosity</property>
                <min>-1</min>
                <max>1</max>
                <step>0.01</step>  
                <binding>
                    <command>dialog-apply</command>
                </binding>
            </slider>
            <text>
                <row>0</row>
                <col>2</col>
                <halign>left</halign>
                <label>99999</label>
                <live>true</live>
                <format>%1.2f </format>
                <color>
                    <red>0.9</red>
                    <green>0.9</green>
                    <blue>0.9</blue>
                </color>
                <property>sim/G91/liveries/active/luminosity</property>
            </text>
            
            <text>
                <row>1</row>
                <col>0</col>
                <label>Set reflective</label>
                <halign>left</halign>
            </text>
            <slider>
                <row>1</row>
                <col>1</col>
                <width>100</width>
                <property>sim/G91/liveries/active/reflective</property>
                <min>-1</min>
                <max>1</max>
                <step>0.01</step>  
                <binding>
                    <command>dialog-apply</command>
                </binding>
            </slider>
            <text>
                <row>1</row>
                <col>2</col>
                <halign>left</halign>
                <label>99999</label>
                <live>true</live>
                <format>%1.2f </format>
                <color>
                    <red>0.9</red>
                    <green>0.9</green>
                    <blue>0.9</blue>
                </color>
                <property>sim/G91/liveries/active/reflective</property>
            </text>
            
        </group>
    </group>
    
</PropertyList>

